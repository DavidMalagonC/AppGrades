{"version":3,"sources":["./src/app/profile/profile.page.html","./src/app/update-profile/update-profile.component.html","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/profile/profile.page.scss","./src/app/profile/profile.page.ts","./src/app/services/json.service.ts","./src/app/services/session.service.ts","./src/app/update-profile/update-profile.component.scss","./src/app/update-profile/update-profile.component.ts"],"names":[],"mappings":"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","file":"profile-profile-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>Perfil</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div style=\\\"height: 85%;\\\">\\r\\n    <ion-card>\\r\\n      <ion-card-header>\\r\\n        <ion-card-subtitle>Estudiante</ion-card-subtitle>\\r\\n        <ion-card-title>{{session.user.name}} {{session.user.lastname}}</ion-card-title>\\r\\n        <br />\\r\\n        <img src=\\\"../../assets/img/perfil.webp\\\" width=\\\"70%\\\" class=\\\"center\\\" />\\r\\n      </ion-card-header>\\r\\n    </ion-card>\\r\\n\\r\\n    <ion-button (click)=\\\"presentModal()\\\" class=\\\"center\\\">Datos Personales</ion-button>\\r\\n    <ion-card>\\r\\n      <ion-item href=\\\"#\\\" class=\\\"ion-activated\\\">\\r\\n        <ion-icon name=\\\"wifi\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>{{session.user.degree}}</ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item href=\\\"#\\\">\\r\\n        <ion-icon name=\\\"wine\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>{{session.user.code}}</ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"ion-activated\\\">\\r\\n        <ion-icon name=\\\"warning\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>{{session.user.email}}</ion-label>\\r\\n      </ion-item>\\r\\n    </ion-card>\\r\\n    <ion-card>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n  <app-nav-menu></app-nav-menu>\\r\\n</ion-content>\";","export default \"<ion-header translucent>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>Datos personales</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button onclick=\\\"dismissModal()\\\">Close</ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\" >Nombre</ion-label>\\r\\n      <ion-input type=\\\"text\\\" #name required value={{session.user.name}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\">Apellido</ion-label>\\r\\n      <ion-input type=\\\"text\\\" #lastname required value={{session.user.lastname}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\r\\n      <ion-input type=\\\"text\\\" #email required value={{session.user.email}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\r\\n      <ion-input type=\\\"password\\\" #password required value={{session.user.password}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\">Codigo</ion-label>\\r\\n      <ion-input type=\\\"password\\\" #code required value={{session.user.code}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-label position=\\\"floating\\\">Carrera</ion-label>\\r\\n      <ion-input type=\\\"password\\\" #degree required value={{session.user.degree}}></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-button type=\\\"submit\\\" (click)=\\\"update(email, password, name, lastname, code, degree)\\\" expand=\\\"block\\\">Update Data</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </form>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport { NavMenuComponent } from '../nav-menu/nav-menu.component'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProfilePageRoutingModule\r\n  ],\r\n  exports: [NavMenuComponent],\r\n  declarations: [ProfilePage, NavMenuComponent]\r\n})\r\nexport class ProfilePageModule { }\r\n","export default \"/* Works - pass \\\"my-custom-class\\\" in cssClass to increase specificity */\\n.my-custom-class .modal-wrapper {\\n  background: #222;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvZmlsZS9DOlxcVXNlcnNcXGRhdmlkLm1hbGFnb25cXG5vdGFzL3NyY1xcYXBwXFxwcm9maWxlXFxwcm9maWxlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx1RUFBQTtBQUNBO0VBQ0ksZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3Byb2ZpbGUvcHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBXb3JrcyAtIHBhc3MgXCJteS1jdXN0b20tY2xhc3NcIiBpbiBjc3NDbGFzcyB0byBpbmNyZWFzZSBzcGVjaWZpY2l0eSAqL1xyXG4ubXktY3VzdG9tLWNsYXNzIC5tb2RhbC13cmFwcGVyIHtcclxuICAgIGJhY2tncm91bmQ6ICMyMjI7XHJcbiAgfSIsIi8qIFdvcmtzIC0gcGFzcyBcIm15LWN1c3RvbS1jbGFzc1wiIGluIGNzc0NsYXNzIHRvIGluY3JlYXNlIHNwZWNpZmljaXR5ICovXG4ubXktY3VzdG9tLWNsYXNzIC5tb2RhbC13cmFwcGVyIHtcbiAgYmFja2dyb3VuZDogIzIyMjtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\r\nimport { SessionService } from '../services/session.service';\r\nimport { Session } from '../model/session.model';\r\nimport { UpdateProfileComponent } from '../update-profile/update-profile.component';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n\r\n  constructor(public modalController: ModalController, private routerOutlet: IonRouterOutlet, private sessionService : SessionService) { }\r\n\r\n  session: Session;\r\n\r\n  ngOnInit() {\r\n    this.session = this.sessionService.getSessionLogged();\r\n  }\r\n\r\n  async presentModal() {\r\n    const modal = await this.modalController.create({\r\n      component: UpdateProfileComponent,\r\n      cssClass: 'my-custom-class',\r\n      swipeToClose: true,\r\n      presentingElement: this.routerOutlet.nativeEl\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  dismiss() {\r\n    // using the injected ModalController this page\r\n    // can \"dismiss\" itself and optionally pass back data\r\n    this.modalController.dismiss({\r\n      'dismissed': true\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { SessionService } from './session.service';\r\nimport { Session } from '../model/session.model';\r\nimport { Observable } from 'rxjs';\r\nimport { Student } from '../model/student.model';\r\nimport { Subject } from '../model/subject.model';\r\nimport { User } from '../model/user.model';\r\nimport { Grade } from '../model/grade.model';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class JsonService {\r\n\r\n  constructor(private http: HttpClient, public sessionService: SessionService) { }\r\n\r\n  //  endpoint_back = \"http://localhost:3000\";\r\n  endpoint_back = \"https://bk-proyecto-notas.herokuapp.com\"\r\n\r\n  getJson(url: string) {\r\n    return this.http.get(url);\r\n  }\r\n\r\n  login(latitud, longitud, email, password): Observable<User> {\r\n    var request = {latitud, longitud, email, password}\r\n    console.log(request);\r\n    return this.http.post<User>(this.endpoint_back + \"/perfil/usuario/signin\", request);\r\n  }\r\n\r\n  uploadGrade(id_grade, grade_value, name, date, code, code_subject ): Observable<any> {\r\n    var request = {id_grade, grade_value, name, date}\r\n    console.log(request);\r\n    return this.http.post<any>(this.endpoint_back + \"/student/grade/\"+code+\"/\"+code_subject, request);\r\n  }\r\n\r\n  getStudentsBySubject(subject): Observable<Student[]> {\r\n    return this.http.get<Student[] >(this.endpoint_back + \"/course/students/\"+subject);\r\n  }\r\n\r\n  getGradesBySubject(subject, code): Observable<Grade[]> {\r\n    return this.http.get<Grade[] >(this.endpoint_back + \"/student/grade/\"+code+\"/\"+subject);\r\n  }\r\n  \r\n  getSubjectsByTeacher(code): Observable<Subject[]> {\r\n    return this.http.get<Subject[]>(this.endpoint_back + \"/perfil/subjects/\"+code);\r\n  }\r\n\r\n  sendMail(email, subject, message): Observable<string>{\r\n    var request = {email, subject, message};\r\n    return this.http.post<string>(this.endpoint_back + \"/perfil/sendMail\", request);\r\n  }\r\n  \r\n  postJson(url: string, formData) {\r\n\r\n    if(url == null){\r\n      url = this.endpoint_back;\r\n    }\r\n    \r\n    let s: Session = this.sessionService.getSessionLogged();\r\n    return this.http.post(url, formData);\r\n  }\r\n\r\n  register(url: string, email, password, name, lastname, code, degree): Observable<Session> {\r\n    let request = {\r\n      email, password, name, lastname, code, degree\r\n    } \r\n    if(url == null){\r\n      url = this.endpoint_back;\r\n    }\r\n    \r\n    return this.http.post<Session>(url, request);\r\n  }\r\n  update(url: string, email, password, name, lastname, code, degree): Observable<Session> {\r\n    let request = {\r\n      email, password, name, lastname, code, degree\r\n    } \r\n    if(url == null){\r\n      url = this.endpoint_back;\r\n    }\r\n    \r\n    return this.http.put<Session>(url, request);\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Session } from '../model/session.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SessionService {\r\n  private isSessionLoggedIn: boolean;\r\n  public sessionLogged: Session;\r\n\r\n  constructor() {\r\n  this.isSessionLoggedIn = false;\r\n  }\r\n\r\n  setSessionLoggedIn(session: Session) {\r\n    this.isSessionLoggedIn = true;\r\n    this.sessionLogged = session;\r\n    localStorage.setItem('currentSession', JSON.stringify(session));\r\n  }\r\n  setSessionLoggedOut() {\r\n    const s: Session = null;\r\n    localStorage.setItem('currentSession', JSON.stringify(s));\r\n  }\r\n\r\n  getSessionLogged() {\r\n    if (localStorage.getItem('currentSession')) {\r\n    return JSON.parse(localStorage.getItem('currentSession'));\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VwZGF0ZS1wcm9maWxlL3VwZGF0ZS1wcm9maWxlLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { JsonService } from '../services/json.service';\r\nimport { SessionService } from '../services/session.service';\r\nimport { Session } from '../model/session.model';\r\n\r\n@Component({\r\n  selector: 'app-update-profile',\r\n  templateUrl: './update-profile.component.html',\r\n  styleUrls: ['./update-profile.component.scss'],\r\n})\r\nexport class UpdateProfileComponent implements OnInit {\r\n\r\n  session: Session;\r\n\r\n  ngOnInit() {\r\n    this.session = this.sessionService.getSessionLogged();\r\n  }\r\n\r\n  \r\n  constructor(public modalCtrl: ModalController, private jsonService: JsonService, private sessionService: SessionService) {}\r\n\r\n /*  dismiss() {\r\n    // using the injected ModalController this page\r\n    // can \"dismiss\" itself and optionally pass back data\r\n    this.modalCtrl.dismiss({\r\n      'dismissed': true\r\n    });\r\n  } */\r\n  update(email, password, name, lastname, code, degree){\r\n    try {\r\n      \r\n      let response;\r\n      response.name = name.value;\r\n      response.lastname = lastname.value;\r\n      response.password = password.value;\r\n      response.code = code.value;\r\n      response.carreer = degree.value;\r\n      response.email = email.value;\r\n      \r\n      if (response != null) {\r\n        this.sessionService.setSessionLoggedIn(response);\r\n      }\r\n\r\n      this.jsonService.update(null, email,  password, name, lastname, code, degree).subscribe((data) => {\r\n        response = data;\r\n      })\r\n\r\n     \r\n     } catch (error) {\r\n      console.log('Error', error);\r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}