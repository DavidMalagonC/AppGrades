{"version":3,"sources":["webpack:///src/app/grades/grades.page.html","webpack:///src/app/grades/grades-routing.module.ts","webpack:///src/app/grades/grades.module.ts","webpack:///src/app/grades/grades.page.scss","webpack:///src/app/grades/grades.page.ts","webpack:///src/app/services/json.service.ts","webpack:///src/app/services/session.service.ts"],"names":["routes","path","component","GradesPageRoutingModule","imports","forChild","exports","GradesPageModule","declarations","GradesPage","sessionService","jsonService","session","getSessionLogged","getSubjectsByTeacher","user","code","subscribe","data","subjects","subject","setSessionLoggedIn","error","console","log","selector","template","JsonService","http","endpoint_back","url","get","latitud","longitud","email","password","image","request","post","id_grade","grade_value","name","date","code_subject","message","formData","s","lastname","degree","put","providedIn","SessionService","isSessionLoggedIn","sessionLogged","localStorage","setItem","JSON","stringify","getItem","parse"],"mappings":"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","file":"grades-grades-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      <p>\\r\\n        Notas \\r\\n        <app-nav-menu style=\\\"align-content: right; float: right;\\\"></app-nav-menu>\\r\\n      </p>\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"session.user.id_rol == 2\\\" >\\r\\n  <div style=\\\"width: 80%; float: center; padding-left: 25%; padding-top: 5%;\\\">\\r\\n  <h2>&nbsp;&nbsp; Selecciona un curso:</h2>\\r\\n  <ion-card *ngFor=\\\"let subject of subjects\\\">\\r\\n    <ion-item routerLink=\\\"/upload-grades\\\" [queryParams]=\\\"{ subject: subject.code_subject }\\\" class=\\\"ion-activated\\\">\\r\\n      <ion-icon name=\\\"book\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-label>{{subject.name}}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-card>\\r\\n</div>\\r\\n</ion-content>\\r\\n<ion-content *ngIf=\\\"session.user.id_rol == 1\\\">\\r\\n  <div style=\\\"width: 80%; float: center; padding-left: 25%; padding-top: 5%;\\\">\\r\\n  <h1>Selecciona un curso:</h1>\\r\\n  <ion-card *ngFor=\\\"let subject of subjects\\\">\\r\\n    <ion-item routerLink=\\\"/show-grades\\\" [queryParams]=\\\"{ subjectCode: subject.code_subject, subject: subject.name }\\\"\\r\\n      class=\\\"ion-activated\\\">\\r\\n      <ion-icon name=\\\"book\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-label>{{subject.name}}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-card>\\r\\n</div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GradesPage } from './grades.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GradesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GradesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GradesPageRoutingModule } from './grades-routing.module';\r\n\r\nimport { GradesPage } from './grades.page';\r\nimport { NavMenuComponent } from \"../nav-menu/nav-menu.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GradesPageRoutingModule,\r\n  ],\r\n  \r\n  declarations: [GradesPage, NavMenuComponent]\r\n})\r\nexport class GradesPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dyYWRlcy9ncmFkZXMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { SessionService } from '../services/session.service';\r\nimport { Session } from '../model/session.model';\r\nimport { JsonService } from '../services/json.service';\r\nimport { Subject } from '../model/subject.model';\r\n\r\n@Component({\r\n  selector: 'app-grades',\r\n  templateUrl: './grades.page.html',\r\n  styleUrls: ['./grades.page.scss'],\r\n})\r\nexport class GradesPage implements OnInit {\r\n\r\n  constructor(private sessionService: SessionService, private jsonService: JsonService) { }\r\n\r\n  session : Session;\r\n  subjects: Subject[];\r\n  \r\n  ngOnInit() {\r\n    this.session = this.sessionService.getSessionLogged();\r\n    this.getSubjectsByTeacher(this.session.user.code);\r\n  }\r\n\r\n  getSubjectsByTeacher(code) {\r\n    try {\r\n      this.jsonService.getSubjectsByTeacher(code).subscribe((data) => {\r\n        this.subjects = data;\r\n        this.session.subject = this.subjects;\r\n        this.sessionService.setSessionLoggedIn(this.session);\r\n\r\n      });\r\n    } catch (error) {\r\n      console.log('Error->', error);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { SessionService } from './session.service';\r\nimport { Session } from '../model/session.model';\r\nimport { Observable } from 'rxjs';\r\nimport { Student } from '../model/student.model';\r\nimport { Subject } from '../model/subject.model';\r\nimport { User } from '../model/user.model';\r\nimport { Grade } from '../model/grade.model';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class JsonService {\r\n\r\n  constructor(private http: HttpClient, public sessionService: SessionService) { }\r\n\r\n  //  endpoint_back = \"http://localhost:3000\";\r\n  endpoint_back = \"https://bk-proyecto-notas.herokuapp.com\"\r\n\r\n  getJson(url: string) {\r\n    return this.http.get(url);\r\n  }\r\n\r\n  login(latitud, longitud, email, password, image): Observable<User> {\r\n    var request = { latitud, longitud, email, password, image}\r\n    console.log(request);\r\n    return this.http.post<User>(this.endpoint_back + \"/perfil/usuario/signin\", request);\r\n  }\r\n\r\n  uploadGrade(id_grade, grade_value, name, date, code, code_subject): Observable<any> {\r\n    var request = { id_grade, grade_value, name, date }\r\n    console.log(request);\r\n    return this.http.post<any>(this.endpoint_back + \"/student/grade/\" + code + \"/\" + code_subject, request);\r\n  }\r\n\r\n  getStudentsBySubject(subject): Observable<Student[]> {\r\n    return this.http.get<Student[]>(this.endpoint_back + \"/course/students/\" + subject);\r\n  }\r\n\r\n  getGradesBySubject(subject, code): Observable<Grade[]> {\r\n    return this.http.get<Grade[]>(this.endpoint_back + \"/student/grade/\" + code + \"/\" + subject);\r\n  }\r\n\r\n  getAverageByStudent(code): Observable<any> {\r\n    return this.http.get<any>(this.endpoint_back + \"/student/grade/average/\" + code);\r\n  }\r\n\r\n  getAverageSubjectsByStudent(code): Observable<any> {\r\n    return this.http.get<any>(this.endpoint_back + \"/student/list/average/grade/\" + code);\r\n  }\r\n\r\n  getSubjectsByTeacher(code): Observable<Subject[]> {\r\n    return this.http.get<Subject[]>(this.endpoint_back + \"/perfil/subjects/\" + code);\r\n  }\r\n\r\n  sendMail(email, subject, message): Observable<string> {\r\n    var request = { email, subject, message };\r\n    return this.http.post<string>(this.endpoint_back + \"/perfil/sendEMail/\", request);\r\n  }\r\n\r\n  postJson(url: string, formData) {\r\n\r\n    if (url == null) {\r\n      url = this.endpoint_back;\r\n    }\r\n\r\n    let s: Session = this.sessionService.getSessionLogged();\r\n    return this.http.post(url, formData);\r\n  }\r\n\r\n  register(url: string, email, password, name, lastname, code, degree): Observable<Session> {\r\n    let request = {\r\n      email, password, name, lastname, code, degree\r\n    }\r\n    if (url == null) {\r\n      url = this.endpoint_back;\r\n    }\r\n\r\n    return this.http.post<Session>(url, request);\r\n  }\r\n  update(url: string, email, password, name, lastname, code, degree): Observable<Session> {\r\n    let request = {\r\n      email, password, name, lastname, code, degree\r\n    }\r\n    if (url == null) {\r\n      url = this.endpoint_back;\r\n    }\r\n\r\n    return this.http.put<Session>(url, request);\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Session } from '../model/session.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SessionService {\r\n  private isSessionLoggedIn: boolean;\r\n  public sessionLogged: Session;\r\n\r\n  constructor() {\r\n  this.isSessionLoggedIn = false;\r\n  }\r\n\r\n  setSessionLoggedIn(session: Session) {\r\n    this.isSessionLoggedIn = true;\r\n    this.sessionLogged = session;\r\n    localStorage.setItem('currentSession', JSON.stringify(session));\r\n  }\r\n  setSessionLoggedOut() {\r\n    const s: Session = null;\r\n    localStorage.setItem('currentSession', JSON.stringify(s));\r\n  }\r\n\r\n  getSessionLogged() {\r\n    if (localStorage.getItem('currentSession')) {\r\n    return JSON.parse(localStorage.getItem('currentSession'));\r\n    }\r\n    return null;\r\n  }\r\n}\r\n"]}